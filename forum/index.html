<div ng-if="!loading">
   <div ng-controller="forumFilterController" ng-include="templatesPrefix+'forum/filters.html'">
   </div>
   <div class="threadsContainer">
      <div class="btn-group-vertical globalFilters">
         <button type="button" ng-repeat="(globalFilterName,globalFilter) in globalFilters" ng-click="selectGlobalFilter(globalFilter, globalFilterName);" class="btn btn-default" ng-class="{globalFilterSelected: globalFilter == currentGlobalFilter}">{{globalFilter.description}}</button>
         <button type="button" class="btn btn-default" ng-repeat="filter in filterInfos.filters track by filter.ID" ng-click="selectFilter(filter);">{{filter.sName}}</button>
      </div>
      <uib-tabset class="tabsContainer">
         <uib-tab select="selectTab('helpOthers')" active="tabs.helpOthers.active" heading="Aider les autres ({{helpOthersThreads.length}})">
            <div class="threadsInIndex">
               <div ng-if="helpOthersThreads.length === 0" class="threadInIndex">Pas de résultat</div>
               <div ng-repeat="(ID, thread) in threads | threadFilter:'helpOthers':myUserID:currentFilter:currentGlobalFilter.filter as helpOthersThreads" ng-include="templatesPrefix+'forum/threadInIndex.html'" class="threadInIndex">
               </div>
            </div>
         </uib-tab>
         <uib-tab select="selectTab('getHelp')" active="tabs.getHelp.active" heading="Me faire aider ({{getHelpThreads.length}})">
            <button class="btn btn-default addThread" ng-click="newThread('Help');">Nouvelle demande d'aide</button>
            <div class="threadsInIndex" ng-class="{noResult: getHelpThreads.length === 0}">
               <div ng-if="getHelpThreads.length === 0" class="threadInIndex">Pas de résultat</div>
               <div ng-repeat="(ID, thread) in threads | threadFilter:'getHelp':myUserID:currentFilter:currentGlobalFilter.filter as getHelpThreads" ng-include="templatesPrefix+'forum/threadInIndex.html'" class="threadInIndex">
               </div>
            </div>
         </uib-tab>
         <uib-tab select="selectTab('general')" active="tabs.general.active" heading="Discussion générale ({{generalThreads.length}})">
            <button class="btn btn-default addThread" ng-click="newThread('General');">Commencer une nouvelle dicsussion</button>
            <div class="threadsInIndex" ng-class="{noResult: generalThreads.length === 0}">
               <div ng-if="generalThreads.length === 0" class="threadInIndex">Pas de résultat</div>
               <div ng-repeat="(ID, thread) in threads | threadFilter:'general':myUserID:currentFilter:currentGlobalFilter.filter as generalThreads" ng-include="templatesPrefix+'forum/threadInIndex.html'" class="threadInIndex">
               </div>
            </div>
         </uib-tab>
         <uib-tab select="selectTab('technicalSupport')" active="tabs.technicalSupport.active" heading="Rapporter une anomalie ({{technicalSupportThreads.length}})">
            <button class="btn btn-default addThread" ng-click="newThread('Bug');">Ouvrir un nouveau ticket</button>
            <div class="threadsInIndex">
               <div ng-if="technicalSupportThreads.length === 0" class="threadInIndex">Pas de résultat</div>
               <div ng-repeat="(ID, thread) in threads | threadFilter:'technicalSupport':myUserID:currentFilter:currentGlobalFilter.filter as technicalSupportThreads" ng-include="templatesPrefix+'forum/threadInIndex.html'" class="threadInIndex">
               </div>
            </div>
         </uib-tab>
         <div class="refresh pull-right">
            <img ng-if="refreshing" src="images/spinner.gif">
            <button ng-click="refresh()" class="btn btn-default" ng-if="!refreshing"><i class="material-icons">refresh</i></button>
         </div>
      </uib-tabset>
   </div>
</div>
<div ng-if="loading">
   <center><img src="images/spinner.gif" height="50px"><p style="margin-top:10px"><strong ng-i18next="forum_loading"></strong></p></center>
</div>
