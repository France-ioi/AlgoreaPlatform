<div class="panel panel-default" ng-controller="teamsController">
  <div class="panel-body">
    <div>
      <p ng-i18next="teams_intro"></p>
      <p><span ng-i18next="teams_conditions_intro"></span>
        <ul>
          <li ng-if="item.iTeamMaxMembers"><span ng-i18next="teams_conditions_max"></span> {{ item.iTeamMaxMembers }} <span ng-i18next="teams_conditions_members"></span></li>
          <li ng-if="item.idTeamInGroup && item.sTeamMode == 'One'" ng-i18next="teams_conditions_one"></li>
          <li ng-if="item.idTeamInGroup && item.sTeamMode == 'Half'" ng-i18next="teams_conditions_half"></li>
          <li ng-if="item.idTeamInGroup && item.sTeamMode == 'All'" ng-i18next="teams_conditions_all"></li>
          <li ng-if="!item.iTeamMaxMembers && (!item.idTeamInGroup || item.sTeamMode == 'None')" ng-i18next="teams_conditions_none"></li>
      </ul></p>
      <p ng-if="qualificationState == 1" class="text-success" ng-i18next="teams_qualification_yes"></p>
      <p ng-if="qualificationState <= 0" class="text-warning"><span ng-i18next="teams_qualification_no"></span> <span ng-if="qualificationState == 0" ng-i18next="teams_qualification_join"></span></p>
      <p ng-if="canResetQualificationState"><span ng-i18next="teams_qualification_reset_code"></span> <button class="btn btn-default" ng-click="resetDoNotPossess();" ng-i18next="teams_qualification_reset_code_btn"></button> <span ng-if="resetMessage"><b ng-i18next="teams_qualification_reset_code_msg"></b></span></p>
      <hr />
    </div>
    <div class="text-danger" ng-i18next="{{ error }}"></div>
    <div ng-show="team">
      <div ng-if="team.isAdmin"><span ng-i18next="teams_team_leading"></span> {{ team.sName }} <span ng-i18next="teams_for_this_contest"></span></div>
      <div ng-if="!team.isAdmin"><span ng-i18next="teams_team_member"></span> {{ team.sName }} <span ng-i18next="teams_for_this_contest"></span></div>
      <div ng-if="team.isAdmin || team.sPassword">
        <span ng-i18next="teams_code"></span>
        <input type="text" class="access-code" ng-model="team.sPassword" readonly/>
        <span class="checkboxSwitch" ng-if="team.isAdmin">
          <input type="checkbox" id="codeInscr" class="switch" ng-model="hasPassword" ng-change="changeTeamPassword();">
          <label for="codeInscr"><span></span></label>
       </span>
      </div>
      <hr />
      <table class="table table-bordered table-hover">
        <tr>
          <th ng-i18next="teams_table_members"></th>
          <th ng-i18next="teams_table_since"></th>
          <th ng-if="team.isAdmin" ng-i18next="teams_table_remove"></th>
        </tr>
        <tr ng-repeat="child in team.children">
          <td ng-class="{'success': child.qualified}"><b>{{ child.sName }}</b> <span ng-if="child.isAdmin" ng-i18next="teams_table_leader"></span> <span ng-if="child.qualified" ng-i18next="teams_table_qualified"></span></td>
          <td>{{ child.sStatusDate|date:'short' }}</td>
          <td ng-if="team.isAdmin && child.idGroupChild != userGroupSelf"><button class="btn btn-danger" ng-click="removeTeamMember(child.idGroupChild);" ng-i18next="remove"></button></td>
          <td ng-if="team.isAdmin && child.idGroupChild == userGroupSelf"><button class="btn btn-danger" ng-click="leaveTeam();" ng-i18next="teams_leave"></button></td>
        </tr>
      </table>
      <div><button class="btn btn-danger" ng-click="leaveTeam();" ng-i18next="teams_leave"></button></div>
    </div>
    <div ng-hide="team">
      <div><span ng-i18next="teams_join_code"></span> <input type="text" ng-model="joinPassword"></input><button class="btn btn-default" ng-click="joinTeam();" ng-i18next="join"></button></div>
      <div><span ng-i18next="teams_create"></span> <input type="text" ng-model="newTeamName"></input><button class="btn btn-default" ng-click="createTeam();" ng-i18next="create"></button></div>
    </div>
  </div>
</div>
